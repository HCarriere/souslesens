<!-- *******************************************************************************
 * SOUSLESENS LICENSE************************
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2016-2017 Claude Fauconnet claude.fauconnet@neuf.fr
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 ******************************************************************************-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="ISO-8859-1">
    <title>souslesens</title>
</head>

<link rel="stylesheet" type="text/css" title="Design"
      href="../common/js/jquery/theme_humanity/jquery-ui.min.css"/>

<link rel="stylesheet" type="text/css" title="Design"
      href="js/jquery/jquery.splitter.css"/>

<link rel="stylesheet" href="js/jsTree/themes/default/style.min.css"/>
<link rel="stylesheet" type="text/css" href="css/index.css"/>
<!--<link rel="stylesheet" type="text/css"
	href="../common/js/others/jquery.handsontable.full.min.css" />-->


<script src="../common/js/jquery/jquery.min.js"></script>
<script src="../common/js/jquery/theme_humanity/jquery-ui.min.js "></script>


<script src="../common/js/jquery/jquery.splitter.js"></script>


<script src="../common/js/d3/d3.js"></script>


<script src="resources/params.js"></script>

<script src="../common/js/common.js"></script>
<script src="../common/js/neo4jDataModel.js"></script>


<script src="js/toutlesensController.js"></script>
<script src="js/toutlesensData.js"></script>
<script src="js/toutlesensDialogsController.js"></script>


<script src="js/modifyData.js"></script>


<script src="js/externalRessources.common.js"></script>
<script src="js/externalRessources.DbPedia.js"></script>
<script src="js/externalRessources.BNF.js"></script>


<script src="js/d3/d3.common.js"></script>
<script src="js/d3/d3.legend.js"></script>
<script src="js/d3/d3.forceGraphClass.js"></script>
<script src="js/d3/d3.dndTreeClass.js"></script>
<script src="js/d3/d3.forceCollapseClass.js"></script>
<script src="js/d3/d3.flower.js"></script>
<script src="js/d3/d3.modifiableGraph.js"></script>
<script src="js/d3/d3.simpleForce.js"></script>
<script src="js/d3/d3.treemap2.js"></script>
<script src="js/d3/d3.gantt.js.js"></script>
<script src="js/d3/gant-chart-d3v2.js.js"></script>
<script type="text/javascript" src="js/d3/gant-chart-d3v2.js"></script>
<script type="text/javascript" src="js/d3/d3.gantt.js"></script>

<script src="../admin/js/graphD3.js"></script>
<script src="js/textOutputs.js"></script>

<script src="js/advancedDisplay.js"></script>
<script src="js/advancedSearch.js"></script>

<script src="js/d3/jit-yc.js"></script>
<!--<link rel="stylesheet" type="text/css"
	href="../common/js/others/jquery.datatables.min.css" />
<script type="text/javascript"
	src="../common/js/others/jquery.datatables.min.js"></script>-->


<script src="resources/help.js"></script>
<script src="resources/lang.js"></script>
<script src="resources/lang_FR.js"></script>
<script src="resources/lang_EN.js"></script>
<script src="js/functionalities.js"></script>


<script>
    var totalWidth;
    var totalHeight;
    processDataBeforeDrawingCallback = null;
    $(function () {

        var queryParams = getQueryParams(document.location.search);


        initNeoModel(subGraph, initLabels);
        var mode = queryParams.mode;
        if (mode == "write")
            Gparams.readOnly = false;

        $("#tabs").tabs();
        $(".fillScreenHeight").css("bottom", 600);


        for (var i = 0; i < Gparams.palette.length; i++) {
            /*	$("#colorTest").append("<div style='background-color:"+palette[i]+"'>"+palette[i]+"</div>");*/
        }
        $("body").click(function (e) {
            currentMousePosition = {
                x: e.pageX,
                y: e.pageY
            }

        });

        $("#graphDiv").click(function (e) {
            var dat = e.target.__data__;
            if (!dat) {
                hidePopupMenu();
                return;
            }
            if (dat.id == null || dat.id == "")
                hidePopupMenu();

        });

        totalWidth = $(window).width();
        totalHeight = $(window).height();


        $("body").height(totalHeight - 20);
        $("#left").width(totalWidth / 4).height(totalHeight - 50);
        $("#tabs-radarLeft").width(totalWidth / 4).height(totalHeight - 50);
        $("#tabs-radarRight").height(totalHeight - 20);
        $("#radarFiltersTab").width((totalWidth / 4) - 20).height(totalHeight - 50);
        $("#info_panel").width(totalWidth / 4).height(totalHeight - 10);
        $("#graphDiv").width((totalWidth / 4 * 3) - Gparams.legendWidth).height(totalHeight - 50)
        $("#graphLegendDiv").width(Gparams.legendWidth).height(totalHeight - 50).css("left", $("#graphDiv").width());
        $("#table_Graph").width((totalWidth / 4 * 3) - 50).height(totalHeight - 50);
        $("#textDivContainer").width((totalWidth / 4 * 3) - 50).height(totalHeight - 100);
        $("#neoQueriesHistoryId").width((totalWidth / 4 * 3) - 50).height(totalHeight - 100);
        $("#center").width(totalWidth / 4 * 3).height(totalHeight - 100);
        $("#nodeDetailsIframe").width((totalWidth / 4 * 3) - 50).height(totalHeight - 150);
        $("#graphDecorationPanel").height(totalHeight / 2);


        $(".splitter_panel").width(totalWidth / 4 * 3).height(totalHeight - 50);
        //  $("#graphLegendDiv").width(totalWidth / 4 * 3).height(50);

        $("#nodeIframe").width("100%").height(totalHeight - 100);
        $("#modifyControls").width((totalWidth / 4 * 3) - 50).height(totalHeight - 300);


        $(".accordionLeft").width((totalWidth / 4) - 30)//;.height(totalHeight-10);
        $("#graphParametersPanel").height(totalHeight / 1.5).width((totalWidth / 4) - 35);
        $("#graphFiltersPanel").height(totalHeight / 1.5).width((totalWidth / 4) - 35);
        $("#graphPathsPanel").height(totalHeight / 1.5).width((totalWidth / 4) - 35);
        $("#linkActionDiv").height(totalHeight / 1.5).width((totalWidth / 4) - 35);
        $("#linkActionDiv").height(totalHeight - 150).width((totalWidth / 4) - 35);


        $("#advancedSearchIframe").height(totalHeight / 3 * 2).width(totalWidth / 3 * 2);
        $("#advancedDisplayIframe").height(totalHeight / 3 * 2).width(totalWidth / 3 * 2);

        $('#main').width("100%").height("100%").split({
            orientation: 'vertical',
            limit: 100,
            position: (totalWidth / 4) + 5
        });

        $("#tabs-radarLeft").tabs({

            activate: function (event, ui) {
                var index = ui.newTab.index();
                onRadarLeftActivate(index);
            }

        });

        $("#tabs-radarLeft").tabs("option", "disabled", [1, 2]);


        $("#tabs-radarRight").tabs(
            {
                activate: function (event, ui) {


                    return;


                    var index = ui.newTab.index();
                    //  var oldindex = ui.oldTab.index();
                    if (oldRightTabIndex != index) {
                        onRadarRightActivate(index);
                        oldRightTabIndex = index;
                    }
                }
            }
        );

        if (queryParams.mode == "write")
            $("#tabs-radarRight").tabs("option", "disabled", [0, 1, 2]);
        else
            $("#tabs-radarRight").tabs("option", "disabled", [0, 1, 2, 3, 4]);

        $("#table_Graph").tabs();
        $("#linkNodesDivAccordion").accordion({
            heightStyle: "content"
        });


        $("#accordionModifyPanel").accordion();

        $("#accordionRepresentation").accordion({
            active: function (eee) {
                return -1
            }
            ,

            beforeActivate: function (event, ui) {
                var panel = ui.newPanel[0].id;

                h = totalHeight / 2;
                $(".accordionLeft .ui-accordion-content").height(h);
            },
            activate: function (event, ui) {

                var panel = ui.newPanel[0].id;
                $(".accordionLeft .ui-accordion-content").height($("#" + panel).height());


                if (panel == "graphFiltersPanel" || panel == "graphSimplePanel") {
                    $("#graphForceDistance").val(100);
                    if ($("#depthSlider").val() > 3) {
                        $("#depth").val(1);
                        $("#depthSlider").slider({
                            max: 3,
                            value: 1
                        });
                    }
                }
                if (panel == "graphFiltersPanel") {
                    currentGraphRequestType = currentGraphRequestType_FILTERED;
                    isInPathGraphAction = false;
                }
                /*  if (panel == "graphSimplePanel") {
                 isInPathGraphAction = false;
                 currentGraphRequestType = currentGraphRequestType_FROM_NODE;
                 drawGraphGeneral();
                 }
                 if (panel == "graphTravPanel" || panel == "graphPathsPanel") {

                 $("#depth").val(6);
                 $("#depthSlider").slider({
                 max: 15,
                 value: 6
                 });

                 }
                 if (panel == "graphTravPanel") {
                 isInPathGraphAction = false;
                 currentGraphRequestType = currentGraphRequestType_TRAVERSAL;
                 }
                 if (panel == "graphPathsPanel") {
                 currentGraphRequestType = currentGraphRequestType_PATH;

                 }*/


            }

        });


        filterDiv = "radarFiltersDiv";
        bcsTreeDiv = "#bcsTreeDiv";
        radarDiv = "#radarDiv";
        attrsIFrame = "#attrsIframe";


        if (Gparams.readOnly === true) {
            $("#li_modify").detach();
            $("#li_nodeDetails").detach();
            $("#li_neoQueries").detach();


        }

        if (Gparams.navigationStyle == "jpt") {
            $("#div_externalRessources").detach();
        }

        $("#graphForceDistanceSlider").slider({
            min: 10,
            max: 400,
            range: "min",
            value: 200,
            slide: function (event, ui) {
                /*   if (false) {
                 var h = $("#graphDiv").height();
                 distance = h / (10 * depth) / (200 / distance);
                 }*/
                Gparams.d3ForceParams.distance=ui.value;
                displayGraph();
            }
        });

        $("#graphForceChargeSlider").slider({
            min: -1000,
            max: -10,
            range: "min",
            value: -500,
            slide: function (event, ui) {
                Gparams.d3ForceParams.charge=ui.value;
                displayGraph();
            }
        });


        $("#depthSlider").slider({
            min: 1,
            max: 3,
            range: "min",
            value: 1,
            slide: function (event, ui) {
                $("#depth").val(ui.value);
                drawGraphGeneral();
            }
        });

        $("#dialog").dialog({
            autoOpen: false,
            height: 400,
            width: 350,
            modal: true

        });

        $("#dialogAdvancedSearch").dialog({
            autoOpen: false,
            height: totalHeight / 3 * 2,
            width: totalWidth / 3 * 2,

            appendTo: "#tabs-radarRight",
            modal: true,

        });
        $("#dialogAdvancedDisplay").dialog({
            autoOpen: false,
            height: totalHeight / 3 * 2,
            width: totalWidth / 3 * 2,

            appendTo: "#tabs-radarRight",
            modal: true,

        });

        $("#popupMenuNodeInfoDiv").mouseleave(function(){
            $(this).hide();
        });



    })
    ;
    ;


</script>
<body>


<div id="main">

    <div id="left">

        <div id="left-radar">

            <span id="radarTitle"></span>
            <div id="tabs-radarLeft">
                <ul>
                    <li><a href="#radarFiltersTab"><span id='lang_60'>Selection</span></a></li>
                    <li><a href="#graphQueryFiltersTab"><span id='lang_59'>Vue</span></a></li>
                    <li><a href="#attrsTab"><span id='lang_37'>Infos.</span></a></li>
                </ul>
                <div id="legendTab"></div>


                <!--  ****************************************************noeudInitial***************************-->


                <div id="radarFiltersTab">
                    <div id="topPanel">
                        <input type="hidden" value="500" id="limitResult">
                        <table border="0">
                            <!--   <tr>


                                       <a href="javascript:showGantt()"><b> <span
                                               id='lang_52'>Chronologie...</span></b></a>

                                   </td>


                               </tr>-->
                            <tr>
                                <td colspan="2"><span id='lang_61'> Selectionner un
											noeud de depart</span></td>

                            </tr>
                            <tr>
                                <td><B></B> Labels</td>
                                <td><select id="nodesLabelsSelect"
                                            onchange=onLabelSelect(this)></select></td>

                            </tr>

                            <tr>


                                <td><span id='lang_1'>Chercher</span></td>
                                <td><input id="word" onkeyup="searchNodesUI(this,null)"
                                           size="10"></td>
                                <td>
                                    <!-- <button  onclick="showAdvancedSearchDialog()">+</button>-->
                                    <input type="image"
                                           alt="<span id='lang_XX'>search</span>" height="20px"
                                           onclick="showAdvancedSearchDialog()" id="searchButton"
                                           src="images/search.png"/>
                                </td>

                            </tr>


                            <tr>
                                <td colspan="3">
                                    <div id="startNodePageNavigation"></div>
                                </td>
                            </tr>
                            <tr colspan="3" valign="middle">
                                <td><span id='lang_15'>Profondeur</span>&nbsp;<input
                                        id="depth" value="1" size="1"></td>
                                <td colspan="2">
                                    <div id="depthSlider" style="width: 130px;"></div>
                                </td>

                            </tr>

                            <tr>
                                <td colspan="3"><select size="15" id="wordsSelect"
                                                        onclick="onWordSelect(this)">
                                    <option>--------------</option>
                                </select></td>


                            </tr>

                            <tr>
                                <td></td>
                            </tr>


                        </table>
                    </div>
                </div>

                <!--  ****************************************************#graphQueryFilters***************************-->


                <div id="graphQueryFiltersTab">

                    <div align="center">
                        <span id="currentNodeSpan"></span><br>

                    </div>
                    <!--  	<button onclick="getSVG()">getSVG</button>-->

                    <div id="accordionRepresentation" class="accordionLeft">

                        <h3>
                            <span id='lang_3'>Apparence</span>
                        </h3>
                        <div id="graphDecorationPanel">
                            <table>
                                <tr valign="middle">

                                    <td colspan="2" align="center">

                                        <table class="visButtonTable">

                                            <tr align="center">
                                                <td width="100%" colspan="6"><span
                                                        style="color: white">Representation</span></td>
                                            </tr>
                                            <tr>
                                                <td><input type="image" height="30px" alt="fleur"
                                                           onclick="onVisButton('FLOWER')" id="treeFlowerButton"
                                                           src="images/flower.png"/></td>

                                                <td><input type="image" height="30px"
                                                           alt="<span id='lang_9'>carte</span>"
                                                           onclick="onVisButton('SIMPLE_FORCE_GRAPH')"
                                                           id="treemapButton" src="images/graph.png"/></td>

                                                <td><input type="image"
                                                           alt="<span id='lang_7'>arbre</span>" height="30px"
                                                           onclick="onVisButton('TREE')" id="treeButton"
                                                           src="images/tree.png"/></td>

                                              <!--  <td><input type="image" height="30px" alt="carte"
                                                           onclick="onVisButton('TREEMAP')" id="treemapButton"
                                                           src="images/treemap.png"/></td>




                                                <td><input type="image" height="30px" alt="carte"
                                                    onclick="onVisButton('MANUAL')" id="treemapButton"
                                                    src="images/treeModif.jpg" /></td>

                                                       <td><input type="image" alt="<span id='lang_14'>roue</span>"
                                            onclick="onVisButton('FORCE_COLLAPSE')" height="30px"
                                            id="wheelButton" src="images/tree.png" /></td>-->

                                            </tr>
                                            <tr align="center">
                                                <td valign="middle" colspan="6"><input type="checkbox"
                                                                                       id="groupByLabelsCbx"

                                                                                       onclick="drawGraphGeneral()"><span
                                                        style="color: white"><span id='lang_5'>Grouper
																par labels</span></span></td>

                                            </tr>
                                            <tr align="center">
                                                <td valign="middle" colspan="6"><input type="checkbox"
                                                                                       id="showRelationTypesCbx"
                                                                                       onclick="drawGraphGeneral()"><span
                                                        style="color: white"><span
                                                        id='lang_163'>noms des relation</span></span></td>

                                            </tr>


                                        </table>
                                        <select style="visibility: hidden;"
                                                id="representationSelect" onchange="drawGraphGeneral()">


                                            <option value="FLOWER" selected="selected">flower</option>
                                            <option value="TREE">arbre</option>
                                            <option value="SIMPLE_FORCE_GRAPH">graphe</option>
                                            <option value="TREEMAP">carte</option>
                                            <option value="MANUAL">manual</option>
                                            <option value="HTML">manual</option>

                                            <option value="CSV">tableau</option>

                                            <!--  <option value="LIST">liste</option>
                                                <option value="FORCE_COLLAPSE">roue</option>
                                             -->
                                        </select>
                                    </td>
                                </tr>


                                <tr valign="middle">
                                    <td><B> <span id='lang_16'>ecartement</span>&nbsp;</B></td>
                                    <td colspan="2">
                                        <div id="graphForceDistanceSlider" style="width: 130px;"></div>

                                    </td>

                                </tr>



                                <tr>
                                    <td><B> <span id='lang_17'>charge</span></B></td>
                                    <td>
                                        <div id="graphForceChargeSlider"></div>
                                    </td>
                                </tr>

                                <tr valign="middle">

                                    <td colspan="2">
                                        <div id="helpDiv" class="help"></div>

                                    </td>

                                </tr>

                                </tr>
                            </table>

                        </div>


                        <h3>
                            <span id='lang_19'>Filtrer les noeud et les relations</span>
                        </h3>
                        <div id="graphFiltersPanel">
								<span class="help"><span id='lang_20'>filtre les
										noeud et les relations</span></span><br>
                            <button onclick="backToNonFilteredGraph()"><span id='lang_160'>supprimer les filtres</span>
                            </button>
                            <!-- <button id="drawFilteredGraphButton"
                                    onclick="drawGraphGeneral()">
                                    <span id='lang_21'>Appliquer les filtres</span>
                                </button> -->

                            <div id="graphQueryFilters"></div>

                        </div>


                    </div>

                </div>


                <!--  ****************************************************attrs***************************-->
                <div id="attrsTab">


                    <div class="title">proprietes</div>
                    <div id="infoPanel"></div>
                    <hr>
                    <div id="div_externalRessources">
                        <div class="title">
                            <span id='lang_23'>Ressources externes</span>
                        </div>
                        Source :<select id="externalSourceSelect"
                                        onchange="loadExternalData(this)">
                        <option></option>
                        <option value="DbPedia">DBPedia</option>
                        <option value="BNF">BNF</option>

                    </select>
                        <button onclick="searhExternalResource()">
                            <span id='lang_1'>Chercher</span>
                        </button>
                        <div id="externalInfoPanel"></div>
                        <div id="chronoParams"></div>


                        <div id="imagePanel"></div>

                    </div>


                    <!-- <button onclick='$("#breadcrumb").html("")'><span id='lang_27'>effacer</span></button>
                                &nbsp;&nbsp;<span id="breadcrumb"></span> -->
                </div>


            </div>


        </div>
    </div>


    <!--  ****************************************************right panel***************************-->


    <div id="tabs-radarRight">

        <ul id="tab_li_right">
            <li><a href="#graphTab"><span id='lang_28'><span
                    id='lang_42'>Graphe</span></span></a></li>
            <li><a href="#textTab"><span id='lang_29'>Liste</span></a></li>

            <li id="li_nodeDetails"><a href="#nodeDetailsTab">Details </a></li>
            <li id="li_modify"><a href="#modifyTab"><span id='lang_31'>M.a.j</span></a></li>
            <li id="li_neoQueries"><a href="#neoQueriesTab"><span
                    id='lang_32'>Recherche avanc�e</span></a></li>
        </ul>


        <!--  ****************************************************graph***************************-->
        <div id="graphTab">
            <div id="center">

                <div id="graphLegendDiv"></div>
                <a href="javascript:showGraphDecorationObjsDialog()"><b><span
                        id='lang_62'>Peindre des proprietes...</span></b></a>


                <div id="graphDiv"></div>
                <div id="popupMenuWrite" class="popupmenuDiv">
                    <table border="0" class="popupMenuTable">
                        <tr>
                            <td><span onclick="dispatchAction('nodeInfos')"><span
                                    id='lang_67'>Infos</span></span></td>
                        </tr>
                        <tr>
                            <td><span onclick="dispatchAction('setAsRootNode')"><span
                                    id='lang_68'>Devient Noeud racine</span></span></td>
                        </tr>
                        <tr>
                            <td><span onclick="dispatchAction('unfoldNode')"><span
                                    id='lang_34'>Deplier</span></span></td>
                        </tr>

                        <tr>
                            <td><span onclick="dispatchAction('foldNode')"><span
                                    id='lang_35'>Replier</span></span></td>
                        </tr>

                        <tr>
                            <td><span onclick="dispatchAction('modifyNode')"><span
                                    id='lang_36'>Modifier</span></span></td>
                        </tr>
                        <tr>
                            <td><span onclick="dispatchAction('linkSource')"><span
                                    id='lang_64'>Source d'un lien</span></span></td>
                        </tr>
                        <tr>
                            <td><span onclick="dispatchAction('linkTarget')"><span
                                    id='lang_65'>Cible du lien</span></span></td>
                        </tr>

                    </table>


                </div>
                <div id="popupMenuRead" class="popupmenuDiv">
                    <table border="0" class="popupMenuTable">
                        <tr>
                            <td><span onclick="dispatchAction('nodeInfos')"><span
                                    id='lang_67'>Infos</span></span></td>
                        </tr>
                        <tr>
                            <td><span onclick="dispatchAction('setAsRootNode')"><span
                                    id='lang_68'>Devient Noeud racine</span></span></td>
                        </tr>
                        <tr>
                            <td><span onclick="dispatchAction('unfoldNode')"><span
                                    id='lang_38'>Deplier</span></span></td>
                        </tr>

                        <tr>
                            <td><span onclick="dispatchAction('foldNode')"
                                      id='lang_39'>Replier</span></td>
                        </tr>


                    </table>


                </div>
                <div id="popupMenuLabel" class="popupmenuDiv">
                    <table border="0" class="popupMenuTable">
                        <tr>
                            <td><span onclick="dispatchAction('closeNodesFromLabel')"
                                      id='lang_40'>Fermer</span></td>
                        </tr>
                        <tr>
                            <td><span onclick="dispatchAction('openNodesFromLabel')"
                                      id='lang_41'>Ouvrir</span></td>
                        </tr>
                        <!--  	<tr>
                            <td><span onclick="dispatchAction('listNodesFromLabel')">Liste
                        </tr>
                        <tr>
                            <td><span onclick="dispatchAction('drawGraphFromLabel')">Graphe</span>
                            </td>
                        </tr>-->


                    </table>


                </div>
                <div id="popupMenuNodeInfoDiv" class="popupmenuDiv" >
                    <div id="popupMenuNodeInfo"  >//onblur="hidePopupMenu()" >
                    </div>
                </div>


            </div>
        </div>
        <!--  ****************************************************textTab***************************-->
        <div id="textTab">
            <div id="textDivContainer">
                <table class="visButtonTable">
                    <tr>
                        <td><input type="image" height="30px"
                                   alt="<span id='lang_13'>liste</span>"
                                   onclick="onTextVisButton('HTML')" id="listOuput"
                                   src="images/list.png"/></td>

                        <td><input type="image" height="30px" alt="table"
                                   onclick="onTextVisButton('CSV')" id="csvOutput"
                                   src="images/table.png"/></td>
                        <td>
                            <button id="listDownloadButton" onclick="downloadTextOutput()">
                                <span id='lang_43'>telecharcher</span>
                            </button>
                        </td>
                    </tr>
                </table>

                <br>
                <div id="textDiv"></div>
            </div>
            <!--  <button onclick="exportCSV()"><span id='lang_44'>Telecharger</span></button>

                <table id="table_Graph" class="cell-border,compact">
                </table>-->
            <!-- <div class="scroll-container" id="SSSpreadsheetDivContainer">
                <div id="spreadsheetDiv"></div>
            </div> -->
        </div>

        <!--  ****************************************************modify***************************-->
        <div id="modifyTab">

            <input type="checkbox" name="modifyCbx" id="modifyCbx"
                   onclick="switchModifyMode(this);"> <label for="modifyCbx">Mode
            mise a jour</label> <span id="currentNodeSpan"></span>
            <div id="modifyButtonsDiv" style="visibility: hidden;">

                <button onclick="onCreateNodeButton()">
                    <span id='lang_45'>Creer Noeud</span>
                </button>
                <button onclick="dispatchAction('linkSource')">Source d
                    un lien
                </button>
                <button onclick="dispatchAction('linkTarget')">Cible du
                    lien
                </button>
                <a href="javascript:drawDataModel()">Show data Model</a>

            </div>


            <div id="message"></div>
            <div id="accordionModifyPanel" class="accordionModify"
                 style="visibility: hidden;">
                <h3>
                    <span id='lang_46'>Noeuds</span>
                </h3>
                <div id="modifyControls">


                    <div id="nodeInputDiv">&nbsp;</div>

                    <button onclick="saveNodeInput()">
                        <span id='lang_47'>Enregistrer</span>
                    </button>
                    <button onclick="onDeleteNodeButton()">
                        <span id='lang_48'>Supprimer</span>
                    </button>


                </div>
                <h3>
                    <span id='lang_49'>Liens</span>
                </h3>
                <div id="linkActionDiv">

                    <!-- creation des liens______________________________ -->

                    <table>

                        <tr>

                            <td colspan="2">
                                <button onclick="reverseLinkNodes()">
                                    <span id='lang_69'>inverser les noeuds</span>
                                </button>
                            </td>
                        </tr>

                        <tr>

                            <td colspan="2">
                                <button onclick="createNewLinkType()">
                                    <span id='lang_70'>ajouter un type de lien</span>
                                </button>
                            </td>
                        </tr>

                        <tr>
                            <td><span id="linkSourceLabel"></span></td>
                            <td><input id="linkSourceNode"></td>
                        </tr>
                        <tr>

                            <td align="center"><span id='lang_50'>type du lien</span></td>
                            <td><select size="1" id="linkType">
                                <option>___________________</option>

                            </select></td>

                        </tr>
                        <tr>
                            <td colspan="2" align="center"><span id='lang_71'>lier
										a</span></td>

                        </tr>
                        <tr>
                            <td><span id="linkTargetLabel"></span></td>
                            <td><input id="linkTargetNode"></td>
                        </tr>


                        <tr>

                            <td colspan="2">
                                <hr>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2"></td>


                        </tr>
                        <tr>

                            <td colspan="2">
                                <hr>
                                <button onclick="createRelation()">
                                    <span id='lang_51'>Enregistrer le lien</span>
                                </button>
                            </td>
                        </tr>

                    </table>


                </div>


            </div>
        </div>


        <!--  ****************************************************nodeDetailsTab***************************-->


        <div id="nodeDetailsTab">
            <button onclick="associateExternalResourceToNode()">Associer
                cette page au noeud courant
            </button>
            <br>
            <iframe id="nodeDetailsIframe"></iframe>

        </div>

        <div id="neoQueriesTab">
            <div id="colorTest"></div>
            <table border="0">
                <tr>
                    <td>url</td>
                    <td><textarea id="neoUrlTextArea" cols="100" rows="1"></textarea></td>
                </tr>
                <tr>
                    <td>requete</td>
                    <td><textarea id="neoQueriesTextArea" cols="100" rows="5"></textarea></td>
                </tr>

                <tr>
                    <td colspan="2">
                        <button onclick="execNeoQuery()">
                            <span id='lang_53'>Executer</span>
                        </button>
                    </td>

                </tr>
                <tr>
                    <td><span id='lang_54'>historique session</span></td>
                    <td>
                        <div id="neoQueriesHistoryId"></div>
                    </td>
                </tr>
            </table>

        </div>


    </div>


</div>


<div id="dialog" title="dialog"></div>
<div id="dialogAdvancedSearch" title="advancedSearch">
    <iframe id="advancedSearchIframe" src="advancedSearchDialog.html"></iframe>
</div>
<div id="dialogAdvancedDisplay" title="advancedDisplay">
    <iframe id="advancedDisplayIframe" src="advancedDisplayDialog.html"></iframe>
</div>

<input type="hidden" id="graphTravReturnEvaluator">
<input type="hidden" id="graphTravPruneEvaluator"></input>
<input type="hidden" id="graphTravRelTypes"></input>
</body>
</html>